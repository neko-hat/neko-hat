<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/blog/assets/css/just-the-docs-default.css"> <script src="/blog/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script src="/blog/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/blog/favicon.ico" type="image/x-icon"><title>Migration and Upgrading | neko_hat’s blog</title><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Migration and Upgrading" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="neko_hat’s hacking blog" /><meta property="og:description" content="neko_hat’s hacking blog" /><link rel="canonical" href="http://0.0.0.0:4000/blog/MIGRATION/" /><meta property="og:url" content="http://0.0.0.0:4000/blog/MIGRATION/" /><meta property="og:site_name" content="neko_hat’s blog" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Migration and Upgrading" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"neko_hat’s hacking blog","headline":"Migration and Upgrading","url":"http://0.0.0.0:4000/blog/MIGRATION/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/blog/" class="site-title lh-tight"> neko_hat's blog </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/blog/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="/blog/docs/configuration/" class="nav-list-link">Configuration</a><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in UI Components category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/blog/docs/ui-components" class="nav-list-link">UI Components</a><ul class="nav-list"><li class="nav-list-item "><a href="/blog/docs/ui-components/typography/" class="nav-list-link">Typography</a><li class="nav-list-item "><a href="/blog/docs/ui-components/buttons/" class="nav-list-link">Buttons</a><li class="nav-list-item "><a href="/blog/docs/ui-components/labels/" class="nav-list-link">Labels</a><li class="nav-list-item "><a href="/blog/docs/ui-components/tables/" class="nav-list-link">Tables</a><li class="nav-list-item "><a href="/blog/docs/ui-components/lists/" class="nav-list-link">Lists</a><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Code category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/blog/docs/ui-components/code/" class="nav-list-link">Code</a><ul class="nav-list"><li class="nav-list-item "> <a href="/blog/docs/ui-components/code/line-numbers/" class="nav-list-link">Code with line numbers</a></ul><li class="nav-list-item "><a href="/blog/docs/ui-components/callouts/" class="nav-list-link">Callouts</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Utilities category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/blog/docs/utilities" class="nav-list-link">Utilities</a><ul class="nav-list"><li class="nav-list-item "><a href="/blog/docs/utilities/color/" class="nav-list-link">Color</a><li class="nav-list-item "><a href="/blog/docs/utilities/layout/" class="nav-list-link">Layout</a><li class="nav-list-item "><a href="/blog/docs/utilities/responsive-modifiers/" class="nav-list-link">Responsive Modifiers</a><li class="nav-list-item "><a href="/blog/docs/utilities/typography/" class="nav-list-link">Typography</a></ul><li class="nav-list-item"><a href="/blog/docs/navigation-structure/" class="nav-list-link">Navigation Structure</a><li class="nav-list-item"><a href="/blog/docs/customization/" class="nav-list-link">Customization</a><li class="nav-list-item"><a href="/blog/docs/search/" class="nav-list-link">Search</a><li class="nav-list-item"><a href="/blog/docs/index-test/" class="nav-list-link">Markdown kitchen sink</a><li class="nav-list-item"><a href="/blog/CHANGELOG/" class="nav-list-link">CHANGELOG</a><li class="nav-list-item active"><a href="/blog/MIGRATION/" class="nav-list-link active">Migration and Upgrading</a></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/just-the-docs/just-the-docs" class="nav-list-link external"> Just the Docs on GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search neko_hat's blog" aria-label="Search neko_hat's blog" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/neko-hat/blog" class="site-button" > neko_hat on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><h1 id="migrating-and-upgrading"> <a href="#migrating-and-upgrading" class="anchor-heading" aria-labelledby="migrating-and-upgrading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Migrating and Upgrading</h1><dl><dt>Summary<dd>A site that uses <code class="language-plaintext highlighter-rouge">just-the-docs</code> (as a theme or as a remote them) automatically switches to a new release, unless it is pinned to a previous version.<p>This migration guide draws attention to:</p><ul><li>changes that might break your site,<li>features added in the latest release, and<li>features that have become deprecated (and are likely to be removed in a future release).</ul></dl><p>This document contains instructions on how to migrate and upgrade Just the Docs sites from every minor or major version bump, starting from <code class="language-plaintext highlighter-rouge">v0.3.3</code> to <code class="language-plaintext highlighter-rouge">v0.4.0</code>.</p><details open=""> <summary class="text-delta"> Table of contents </summary><ul id="markdown-toc"><li><a href="#v033--v04x" id="markdown-toc-v033--v04x">v0.3.3 … v0.4.x</a><ul><li><a href="#repository-changes" id="markdown-toc-repository-changes">REPOSITORY CHANGES</a><ul><li><a href="#just-the-docs" id="markdown-toc-just-the-docs">Just the Docs</a><li><a href="#deploy-previews" id="markdown-toc-deploy-previews">Deploy previews</a><li><a href="#just-the-docs-template" id="markdown-toc-just-the-docs-template">Just the Docs Template</a><li><a href="#just-the-docs-tests" id="markdown-toc-just-the-docs-tests">Just the Docs Tests</a></ul><li><a href="#potentially-breaking-changes-in-v040" id="markdown-toc-potentially-breaking-changes-in-v040">POTENTIALLY-BREAKING CHANGES in v0.4.0</a><ul><li><a href="#new-includes-and-scss" id="markdown-toc-new-includes-and-scss">New includes and SCSS</a><li><a href="#favicons" id="markdown-toc-favicons">favicons</a><li><a href="#custom-callout-colors" id="markdown-toc-custom-callout-colors">Custom callout colors</a><li><a href="#pages-and-collections" id="markdown-toc-pages-and-collections">Pages and collections</a><li><a href="#relative-urls" id="markdown-toc-relative-urls">Relative URLs</a><li><a href="#navigation-order" id="markdown-toc-navigation-order">Navigation order</a></ul><li><a href="#deprecations" id="markdown-toc-deprecations">DEPRECATIONS</a><ul><li><a href="#jekyll-3" id="markdown-toc-jekyll-3">Jekyll 3</a><li><a href="#footer-content-configuration" id="markdown-toc-footer-content-configuration">Footer content configuration</a></ul><li><a href="#theme-website-changes" id="markdown-toc-theme-website-changes">THEME WEBSITE CHANGES</a><ul><li><a href="#home-page" id="markdown-toc-home-page">Home page</a><li><a href="#changelog" id="markdown-toc-changelog">CHANGELOG</a></ul><li><a href="#non-breaking-changes-outline-only" id="markdown-toc-non-breaking-changes-outline-only">NON-BREAKING CHANGES (OUTLINE ONLY)</a><ul><li><a href="#accessibility" id="markdown-toc-accessibility">Accessibility</a><li><a href="#configuration" id="markdown-toc-configuration">Configuration</a><li><a href="#customization" id="markdown-toc-customization">Customization</a><li><a href="#custom-includes" id="markdown-toc-custom-includes">Custom Includes</a><li><a href="#modular-components" id="markdown-toc-modular-components">Modular Components</a><li><a href="#navigation" id="markdown-toc-navigation">Navigation</a><li><a href="#search" id="markdown-toc-search">Search</a><li><a href="#styling" id="markdown-toc-styling">Styling</a></ul></ul></ul></details><blockquote class="warning"><p>If your configuration states <code class="language-plaintext highlighter-rouge">remote_theme: just-the-docs/just-the-docs</code>, your website is built using the current <code class="language-plaintext highlighter-rouge">main</code> branch of the theme, which may include changes made after the latest release; see the <a href="/blog/blog/CHANGELOG/">CHANGELOG</a>.</p><p>If your configuration states <code class="language-plaintext highlighter-rouge">theme: just the docs</code> and your <code class="language-plaintext highlighter-rouge">Gemfile</code> specifies <code class="language-plaintext highlighter-rouge">gem "just-the-docs"</code>, your website is always built using the latest release.</p></blockquote><blockquote class="note"><p>If you have cloned/forked and customised the theme repo, and pull the changes of a new release to your clone, you may need to resolve merge conflicts.</p></blockquote><h2 id="v033--v04x"> <a href="#v033--v04x" class="anchor-heading" aria-labelledby="v033--v04x"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> v0.3.3 … v0.4.x</h2><h3 id="repository-changes"> <a href="#repository-changes" class="anchor-heading" aria-labelledby="repository-changes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> REPOSITORY CHANGES</h3><h4 id="just-the-docs"> <a href="#just-the-docs" class="anchor-heading" aria-labelledby="just-the-docs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Just the Docs</h4><p>The theme repo is now at <a href="https://github.com/just-the-docs/just-the-docs">https://github.com/just-the-docs/just-the-docs</a>. The name of its default branch is now <code class="language-plaintext highlighter-rouge">main</code>.</p><p>The theme docs website is now published at <a href="https://just-the-docs.github.io/just-the-docs">https://just-the-docs.github.io/just-the-docs</a>.</p><p>GitHub provides access to previous versions of the theme repo. You can browse <a href="https://web.archive.org/web/20220000000000*/https://just-the-docs.github.io/just-the-docs">previous versions of the theme docs website</a> on the <a href="https://web.archive.org/">Internet Archive</a>.</p><p>The <a href="https://github.com/just-the-docs/just-the-docs/blob/main/README.md">README</a> page on the theme repo repeats much of the information from the <a href="https://just-the-docs.github.io/just-the-docs">home page</a>, formatted for browsing on GitHub. It also explains how to install the theme as a Ruby Gem, without creating a new site.</p><h4 id="deploy-previews"> <a href="#deploy-previews" class="anchor-heading" aria-labelledby="deploy-previews"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deploy previews</h4><p>When a PR builds successfully, Netlify provides a preview of how the theme docs website will look if the PR is merged. You can find links to the preview near the bottom of the Conversation tab of the PR.</p><h4 id="just-the-docs-template"> <a href="#just-the-docs-template" class="anchor-heading" aria-labelledby="just-the-docs-template"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Just the Docs Template</h4><p>The template at <a href="https://github.com/just-the-docs/just-the-docs-template">https://github.com/just-the-docs/just-the-docs-template</a> creates a repo with the minimal source files for a Just the Docs website. After configuring the relevant parameters, you can build and serve the website both locally and on GitHub Pages – using either Jekyll 3 or Jekyll 4!</p><h4 id="just-the-docs-tests"> <a href="#just-the-docs-tests" class="anchor-heading" aria-labelledby="just-the-docs-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Just the Docs Tests</h4><p>The tests website at <a href="https://just-the-docs.github.io/just-the-docs-tests">https://just-the-docs.github.io/just-the-docs-tests</a> consists mainly of regression tests for bug fixes and new features.</p><p>The test source files at <a href="https://github.com/just-the-docs/just-the-docs-tests">https://github.com/just-the-docs/just-the-docs-tests</a> illustrate the use of many Markdown and Jekyll features, including some that are not included in the theme docs.</p><p>For example, see how to add support for rendering TeX/LaTeX <a href="https://just-the-docs.github.io/just-the-docs-tests/components/math/index/">math formulas</a> with KaTeX and MathJax.</p><h3 id="potentially-breaking-changes-in-v040"> <a href="#potentially-breaking-changes-in-v040" class="anchor-heading" aria-labelledby="potentially-breaking-changes-in-v040"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> POTENTIALLY-BREAKING CHANGES in v0.4.0</h3><p>If switching to a new release of the theme breaks your website, check that you don’t have any files in the <code class="language-plaintext highlighter-rouge">_includes</code>, <code class="language-plaintext highlighter-rouge">_layouts</code>, and <code class="language-plaintext highlighter-rouge">_sass</code> directories with the same names as files provided by the theme.</p><p>If your repo has a customised copy of <code class="language-plaintext highlighter-rouge">_layouts/default.html</code> from a previous release, try removing it, or replace it by a fresh copy of the theme file.</p><p class="warning">The following changes made in v0.4.0 <em>might</em> break or adversely affect your website when you next rebuild it, unless you have pinned it!</p><h4 id="new-includes-and-scss"> <a href="#new-includes-and-scss" class="anchor-heading" aria-labelledby="new-includes-and-scss"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> New includes and SCSS</h4><p>Version 0.4.0 introduces many new <code class="language-plaintext highlighter-rouge">_includes</code> files. If you already have an existing include with the same name as a new addition, you will need to migrate or update that include. The new files are (relative to the <code class="language-plaintext highlighter-rouge">_includes</code> folder):</p><ul><li><code class="language-plaintext highlighter-rouge">mermaid_config.js</code><li><code class="language-plaintext highlighter-rouge">nav_footer_custom</code><li><code class="language-plaintext highlighter-rouge">search_placeholder_custom</code><li><code class="language-plaintext highlighter-rouge">toc_heading_custom</code><li>the entire <code class="language-plaintext highlighter-rouge">components/</code> folder:<ul><li><code class="language-plaintext highlighter-rouge">aux_nav</code>, <code class="language-plaintext highlighter-rouge">breadcrumbs</code>, <code class="language-plaintext highlighter-rouge">children_nav</code>, <code class="language-plaintext highlighter-rouge">footer</code>, <code class="language-plaintext highlighter-rouge">header</code>, <code class="language-plaintext highlighter-rouge">mermaid</code>, <code class="language-plaintext highlighter-rouge">search_footer</code>, <code class="language-plaintext highlighter-rouge">search_header</code>, <code class="language-plaintext highlighter-rouge">sidebar</code></ul><li>the entire <code class="language-plaintext highlighter-rouge">icons/</code> folder<ul><li><code class="language-plaintext highlighter-rouge">code_copy</code>, <code class="language-plaintext highlighter-rouge">document</code>, <code class="language-plaintext highlighter-rouge">expand</code>, <code class="language-plaintext highlighter-rouge">external_link</code>, <code class="language-plaintext highlighter-rouge">icons</code>, <code class="language-plaintext highlighter-rouge">link</code>, <code class="language-plaintext highlighter-rouge">menu</code>, <code class="language-plaintext highlighter-rouge">search</code></ul><li>the entire <code class="language-plaintext highlighter-rouge">lunr/</code> folder<ul><li><code class="language-plaintext highlighter-rouge">custom-data.json</code>, <code class="language-plaintext highlighter-rouge">custom-index.js</code></ul></ul><p>We have removed some code in <code class="language-plaintext highlighter-rouge">_sass/vendor</code> and added a new file at <code class="language-plaintext highlighter-rouge">_sass/custom/setup.scss</code>.</p><h4 id="favicons"> <a href="#favicons" class="anchor-heading" aria-labelledby="favicons"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> favicons</h4><p>The file <code class="language-plaintext highlighter-rouge">_includes/favicon.html</code> is now ignored by the theme. If you’re using it, your website’s favicon is no longer displayed by browsers.</p><p>To fix: Move the content of <code class="language-plaintext highlighter-rouge">_includes/favicon.html</code> to <code class="language-plaintext highlighter-rouge">_includes/head_custom.html</code>.</p><h4 id="custom-callout-colors"> <a href="#custom-callout-colors" class="anchor-heading" aria-labelledby="custom-callout-colors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom callout colors</h4><p>The file <code class="language-plaintext highlighter-rouge">_sass/custom/custom.scss</code> is now imported last: <em>after</em> the configuration of callouts. If you’ve defined custom color variables for callouts in <code class="language-plaintext highlighter-rouge">_sass/custom/custom.scss</code> (and used them when configuring your callouts in <code class="language-plaintext highlighter-rouge">_config.yml</code>) you will not be able to rebuild your website.</p><p>To fix: Move custom color variables for callouts in <code class="language-plaintext highlighter-rouge">_sass/custom/custom.scss</code> to <code class="language-plaintext highlighter-rouge">_sass/custom/variables.scss</code>.</p><h4 id="pages-and-collections"> <a href="#pages-and-collections" class="anchor-heading" aria-labelledby="pages-and-collections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pages and collections</h4><p>Links to ordinary pages now appear in the navigation on sites that use collections. You might want the navigation of your site to consist entirely of collections.</p><p>To fix: Add the front matter <code class="language-plaintext highlighter-rouge">nav_exclude: true</code> to pages that the navigation should not display.</p><h4 id="relative-urls"> <a href="#relative-urls" class="anchor-heading" aria-labelledby="relative-urls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Relative URLs</h4><p>All generated URLs are now relative. This is a bug fix, and unlikely to break any site.</p><p>Relative links to pages within a website support deployment to different servers.</p><h4 id="navigation-order"> <a href="#navigation-order" class="anchor-heading" aria-labelledby="navigation-order"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Navigation order</h4><p>The order in which the navigation panel lists pages has been simplified. All pages with <code class="language-plaintext highlighter-rouge">nav_order</code> values now come before all pages that are ordered by <code class="language-plaintext highlighter-rouge">title</code>.</p><p>If your website has a group of <em>sibling</em> pages where some siblings have <code class="language-plaintext highlighter-rouge">nav_order</code> string values, and others are ordered by numerical <code class="language-plaintext highlighter-rouge">title</code> values, the former now come before the latter.</p><p>To fix: Add numerical <code class="language-plaintext highlighter-rouge">nav_order</code> values to the pages with numerical <code class="language-plaintext highlighter-rouge">title</code> values.</p><h3 id="deprecations"> <a href="#deprecations" class="anchor-heading" aria-labelledby="deprecations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DEPRECATIONS</h3><p class="warning">The following features are deprecated, and to be removed in a future release.</p><h4 id="jekyll-3"> <a href="#jekyll-3" class="anchor-heading" aria-labelledby="jekyll-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Jekyll 3</h4><p>You can still use Jekyll 3 (3.8.5 or later) to build websites using v0.4.0 of the theme. However, future releases of the theme may require the use of Jekyll 4.</p><p>You can already use Jekyll 4 to build your website <em>locally</em>. It should look exactly the same as when built with Jekyll 3.<sup id="fnref:Jekyll4" role="doc-noteref"><a href="#fn:Jekyll4" class="footnote" rel="footnote">1</a></sup></p><p>To use Jekyll 4 when building your website <em>on GitHub Pages</em>, you need to run GitHub Actions. The simplest way of setting that up in a new repo is to create the repo using the Just the Docs template. To start running Jekyll 4 to build an existing repo on GitHub Pages, you can create a new repo with the template, then copy its <code class="language-plaintext highlighter-rouge">.github/workflows</code> directory, and update your repo settings to use Actions.</p><h4 id="footer-content-configuration"> <a href="#footer-content-configuration" class="anchor-heading" aria-labelledby="footer-content-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Footer content configuration</h4><p>Currently, if your configuration sets <code class="language-plaintext highlighter-rouge">footer_content</code> to some text, the theme displays that text at the bottom of the main section of each page.</p><p>The file <code class="language-plaintext highlighter-rouge">_includes/footer_custom.html</code> provides a more general way of customizing not only the text but also the markup for the page footer area.</p><p>You can replicate the current display of <code class="language-plaintext highlighter-rouge">TEXT</code> in the footer using the following markup:</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"text-small text-grey-dk-100 mb-0"</span><span class="nt">&gt;</span>TEXT<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div><h3 id="theme-website-changes"> <a href="#theme-website-changes" class="anchor-heading" aria-labelledby="theme-website-changes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> THEME WEBSITE CHANGES</h3><p>The website now uses <em>callouts</em><sup id="fnref:callouts" role="doc-noteref"><a href="#fn:callouts" class="footnote" rel="footnote">2</a></sup> to draw attention to important information.</p><p>The theme uses <a href="https://semver.org">semantic versioning</a>. A normal version number takes the form X.Y.Z, where X is the major version, Y is the minor version, and Z is the patch version. The theme uses version X.Y.Z.rcN for pre-release N of version X.Y.Z. When referring to version numbers on GitHub, we usually prefix them by ‘v’.</p><p>Major version zero (0.Y.Z) is for initial development, where anything <em>may</em> change at any time. In practice, we increment the patch version Z for bug fixes and backwards compatible changes; we increment the minor version Y for changes that could break websites using the theme without pinning it to a specific version.</p><p>The label <code class="language-plaintext highlighter-rouge">NEW</code> in the theme website indicates a feature that has been changed or added since the release of the previous <em>minor</em> version. For example, after the release of v0.4.Z, the theme website should label <code class="language-plaintext highlighter-rouge">NEW</code> all features that we have changed or added since v0.3.0 – not just since v0.3.3. When we release v0.5.0, we will remove all those labels, and add labels on features since v0.4.0.</p><p>The theme docs website is not itself versioned. It changes incrementally, independently of theme releases.</p><h4 id="home-page"> <a href="#home-page" class="anchor-heading" aria-labelledby="home-page"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Home page</h4><p>The theme home page now focuses on the simplest ways of using the theme. It also notes the different behaviour of <code class="language-plaintext highlighter-rouge">theme</code> and <code class="language-plaintext highlighter-rouge">remote_theme</code> in connection with interim versions of the theme, such as pre-releases.</p><h4 id="changelog"> <a href="#changelog" class="anchor-heading" aria-labelledby="changelog"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CHANGELOG</h4><p>The CHANGELOG page lists the changes made in all previous releases and pre-releases of new versions of the theme gem.</p><p>It also lists changes made to the <code class="language-plaintext highlighter-rouge">main</code> branch of the theme since the latest release or pre-release.</p><p>For changes since v0.3.3, the log usually references the merged PR that made the change and its author.</p><h3 id="non-breaking-changes-outline-only"> <a href="#non-breaking-changes-outline-only" class="anchor-heading" aria-labelledby="non-breaking-changes-outline-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NON-BREAKING CHANGES (OUTLINE ONLY)</h3><h4 id="accessibility"> <a href="#accessibility" class="anchor-heading" aria-labelledby="accessibility"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessibility</h4><ul><li>Skip to main content: the first keyboard-navigatable item is now a link to skip over the sidebar and header to the main content of the page. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/949">#949</a>.<li>Aria-labels: improved <code class="language-plaintext highlighter-rouge">aria-label</code>s have been added to various site elements. PRs: <a href="https://github.com/just-the-docs/just-the-docs/pull/950">#950</a>, …<li>Other general improvements: gradual changes have improved tab focusability, contrast, and semantic elements. More work still to come. PRs: <a href="https://github.com/just-the-docs/just-the-docs/pull/498">#498</a>, <a href="https://github.com/just-the-docs/just-the-docs/pull/846">#846</a></ul><h4 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration</h4><ul><li>Mermaid support: first-class support for <a href="https://mermaid.js.org/">Mermaid</a> - a JavaScript-based diagram and charting tool supported by GitHub - has been added to the theme. <strong>This feature is opt-in.</strong> See the new doc subsections in <a href="/blog/docs/configuration/#mermaid-diagrams">Configuration</a> and <a href="/blog/docs/ui-components/code/#mermaid-diagram-code-blocks">Code</a> for more.<li>Multiple Google Analytics tags are now supported. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/1029">#1029</a></ul><h4 id="customization"> <a href="#customization" class="anchor-heading" aria-labelledby="customization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Customization</h4><ul><li>all user-facing text is now customizable; previously, several elements (ex search placeholder) were hardwired into the theme. Now, users can blend custom includes and layouts to internationalize their sites.<li>we’ve clarified the role of <code class="language-plaintext highlighter-rouge">custom.scss</code> to be imported last; to allow users to define custom or override variables, we’ve added a new file <code class="language-plaintext highlighter-rouge">setup.scss</code>. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/1135">#1135</a></ul><h4 id="custom-includes"> <a href="#custom-includes" class="anchor-heading" aria-labelledby="custom-includes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom Includes</h4><p>We’ve added several custom <code class="language-plaintext highlighter-rouge">_includes</code> to provide users with more customization options for different site elements. We’ve also added a section to <a href="/blog/docs/customization/#override-includes">Configuration</a> to outline these.</p><p>All of these are opt-in by default; however, <strong>these may be breaking if you have existing <code class="language-plaintext highlighter-rouge">_includes</code> with the same name</strong>.</p><p>Each item is listed with the relevant file and PR.</p><ul><li>TOC heading: <code class="language-plaintext highlighter-rouge">toc_heading_custom.html</code>, PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/980">#980</a><li>Navigation panel footer: <code class="language-plaintext highlighter-rouge">nav_footer_custom.html</code>, PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/474">#474</a><li>Search placeholder: <code class="language-plaintext highlighter-rouge">search_placeholder_custom.html</code>, PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/613">#613</a><li>Modular site components: <code class="language-plaintext highlighter-rouge">components/</code> and <code class="language-plaintext highlighter-rouge">icons/</code>, PR: [#1058]<li>Custom search indices: <code class="language-plaintext highlighter-rouge">lunr/</code>, PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/1068">#1068</a></ul><p>In a future (version 1) release, we may rename the custom include files.</p><h4 id="modular-components"> <a href="#modular-components" class="anchor-heading" aria-labelledby="modular-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modular Components</h4><p>We’ve broken up the default layout (<code class="language-plaintext highlighter-rouge">_layouts/default.html</code>) into multiple reusable components. This should have no impact on most users; however, it should make it easier to implement custom layouts.</p><p>For more, see <a href="/blog/docs/customization/#custom-layouts-and-includes">Custom layouts and includes</a>. PR: [#1058].</p><h4 id="navigation"> <a href="#navigation" class="anchor-heading" aria-labelledby="navigation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Navigation</h4><ul><li>Collections: nav panel shows links to ordinary pages before collections<li>Collection folding; part of “Combination”. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/578">#578</a><li>Scrolling to show link to selected page. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/639">#639</a><li>External nav links are now supported. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/876">#876</a><li>Child nav order: sort navigation pages with <code class="language-plaintext highlighter-rouge">child_nav_order</code>. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/726">#726</a><li>Order when mixing different ways of specifying nav order</ul><h4 id="search"> <a href="#search" class="anchor-heading" aria-labelledby="search"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Search</h4><p>In addition to customizing the search placeholder, we’ve also added the ability to provide custom content to the search index. for more, see <a href="/blog/docs/search/#custom-content-for-search-index">Custom content for search index</a>. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/1068">#1068</a>.</p><h4 id="styling"> <a href="#styling" class="anchor-heading" aria-labelledby="styling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Styling</h4><ul><li>Code copying: code blocks now allow users to easily copy their contents. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/945">#945</a><li>Blockquote: shows vertical bar on left. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/965">#965</a><li>Links wrap. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/905">#905</a><li>Callouts: a new component similar to alerts or banners. See <a href="/blog/docs/ui-components/callouts/">UI Components - Callouts</a>. PR: <a href="https://github.com/just-the-docs/just-the-docs/pull/466">#466</a></ul><hr /><div class="footnotes" role="doc-endnotes"><ol><li id="fn:Jekyll4" role="doc-endnote"><p>Jekyll 4 depends on more recent versions of other gems than Jekyll 3, and the differences between those versions may affect the files of your built site. <a href="#fnref:Jekyll4" class="reversefootnote" role="doc-backlink">&#8617;</a></p><li id="fn:callouts" role="doc-endnote"><p>The theme website configuration defines the callout titles and colors used there. Websites that use the theme have to configure their own callout titles and colors. <a href="#fnref:callouts" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/just-the-docs/just-the-docs/tree/main/LICENSE.txt">MIT license.</a> <a href="https://www.netlify.com/">This site is powered by Netlify.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/neko-hat/blog/tree/main/MIGRATION.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div><script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
